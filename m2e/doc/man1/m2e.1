mbk2eagle     01/07/2002
________________________

Cet outil permet, à partir d'une description structurelle d'une carte (.vst), 
de générer un fichier script utilisable par Eagle (logiciel de routage de cartes). 
Ce fichier permet de fournir à Eagle, la liste des composants utilisés 
ainsi que  l'interconnexion de ces composants. 

La description structurelle doit être complétée par trois types de fichiers.
- Un fichier "nom__de_figure.pin" correspondant à la description des connexions de 
  la carte circuit imprimé, avec son environnement (connecteurs de la carte).
- Un ou plusieurs fichiers "composants.pin" correspondants aux différents modèles de
  composants qui doivent être implantés sur la carte circuit imprimé.
- Un fichier "nom__de_figure.cls" dans lequel on définit la classe des 
  signaux ainsi que la rotation et le placement des différentes instances 
  des modèles. Par défaut la classe d'un signal est la classe 0.


Dans les fichiers, les lignes vides ou commençant par # sont ignorees.


1.  Organisation du fichier "nom__de_figure.pin"
________________________________________________

Dans ce fichier on doit placer, pour chaque connecteur de la carte, les 2 rubriques dans l'ordre :

Rubrique 1
----------
/MODELE <instance> <modele> <rotation> <(coordonnees)>

<instance> correspond au nom d'instance du connecteur.

<modele> correspond au nom du fichier Eagle décrivant le connecteur. Il 
est de la forme : nom_modele@nom_bibliotheque

<rotation> On peut mettrel'une des valeurs : R0, R90, R180, R270.

<(coordonnees)> position provisoire du connecteur (x y). Il doit etre entierement 
dans la zone utilisable actuellement 100x160 mm.


Rubrique 2
----------
/CONNECTEURS

On énumère les signaux du connecteur à raison 
d'un signal par ligne, sous la forme : 

<repère de broche> <nom du signal>


EXEMPLE

/MODELE P1 IBM8BIT@con-pc R90 (6.5 0.5)
    
/CONNECTEURS
B1 	VSS
B3	VDD
B29	VDD
B31	VSS

A2	DATA(7)
A3	DATA(6)
A4	DATA(5)
A5	DATA(4)
A6	DATA(3)
A7	DATA(2)
A8	DATA(1)
A9	DATA(0)

A11	AEN




2.  Organisation des fichiers "composants.pin"
______________________________________________

Dans ce fichier doit placer 2 rubriques dans l'ordre :

Rubrique 1
----------
/MODELE <modele>
<modele> correspond au nom du fichier Eagle décrivant le connecteur. Il 
         est de la forme : nom_modele@nom_bibliotheque


Rubrique 2
----------

/CONNECTEURS

On énumère les signaux du composant sous la forme : 

<repère de broche> <nom du signal>


EXEMPLE

/MODELE DIL08@dil (0.5 3.0)

/CONNECTEURS
1   DATA
2   CLK
3   OE_N
4   CE_N
5   VSS
6   CEO
7   VPP
8   VDD



3.  Organisation du fichier "nom__de_figure.cls"
________________________________________________

Dans ce fichier doit placer 2 rubriques dans l'ordre :

Rubrique 1
----------
/CLASS

On énumère ensuite les signaux avec leur numéro de classe, à raison 
d'un signal par ligne, sous la forme :

<nom du signal> <numéro de la classe> 

Inutile d'énumérer les signaux de classe 0. Cette rubrique peut être vide,
mais il doit y avoir "/CLASS".


Rubrique 2
----------
/PLACEMENT

On énumère ensuite les instances avec la rotation à effectuer et les
coordonnées de placement, à raison d'une instance par ligne, sous la forme :

<nom de l'instance> <rotation> <coordonnées>

<rotation> On peut mettrel'une des valeurs : R0, R90, R180, R270.

<(coordonnees)> position provisoire du composant (x y). Il doit etre entierement 
                dans la zone utilisable de la carte, actuellement 100x160 mm.


EXEMPLE

/CLASS
CLK  1
VSS  2
VDD  2

/PLACEMENT
IC1  R90   (4.25 1.2)
IC2  R180  (3.25 1.2)
IC3  R0    (3.25 1.4)


4.  Ligne de commande
_________________

m2e  [-v n ]  [-o output]  figure

-v definit le niveau des messages affiches ; par defaut 1
	si 0 : affiche seulement les erreurs
	si 1 : affiche les erreurs et les warning
	si 2 : affiche en plus les noms des fichiers .pin utilises
	si 3 : mode trace pour le debug
	

5.  Variable d'environnement
________________________

M2E_PIN_LIB doit etre definie. Elle donne les chemins d'acces aux fichiers .pin


;  ###----------------------------------------------------------------###
;  #									#
;  # file	: break_00.u						#
;  # date	: Apr 21 1995						#
;  # descr.	: functional test for mips				#
;  #									#
;  ###----------------------------------------------------------------###

	;  ###--------------------------------------------------------###
	;  #   software interrupt :					#
	;  ###--------------------------------------------------------###


		.org	0x00400000
		.start	init

init:

	;  ###--------------------------------------------------------###
	;  #  sotware interrupt						#
	;  ###--------------------------------------------------------###

                break   1
		j	bad

	;  ###--------------------------------------------------------###
	;  #   check that the the trap has been done (r1 must contain	#
	;  # the trap number)						#
	;  ###--------------------------------------------------------###

back_from_exception:
		j	good		; jump to good if OK

		.org	0x004000d0
good:		j	good
		nop
bad:		j	bad
		nop

		.end


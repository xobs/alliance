.\\" auto-generated by docbook2man-spec $Revision: 1.7 $
.TH "ATTILA" "1" "13 October 2002" "ASIM/LIP6" "Alliance - attila User's Manual"
.SH NAME
attila \- A Tool Installer
.SH SYNOPSIS
.sp
\fBattila\fR [ \fB-h\fR ]  [ \fB-S\fR ]  [ \fB-U\fR ]  [ \fB-F\fR ]  [ \fB-A\fR ] 
 [ \fB--help\fR ]  [ \fB--ssh\fR ]  [ \fB--user\fR ]  [ \fB--asim\fR ] 
 [ \fB--prefix=\fIINSTALL_DIR\fB\fR ]  [ \fB--builddir=\fIBUILD_DIR\fB\fR ] 
 \fB--tool=\fIname1\fB\fR [ \fB--tool=\fIname2\fB\fR\fI...\fR ] 
 [ \fB-c- \fIconfigure_arg1\fB   [  \fIconfigure_arg2\fB \fI...\fB ]  \fR ] 
 [ \fB-m- \fImake_arg1\fB  [ \fImake_arg2\fB\fI...\fB ]  \fR ] 
.SH "DESCRIPTION"
.PP
attila automates the process of compiling
and installing one or more \fBAlliance\fR tools. The 
tool can be installed either in the user's account (during the
devellopment stage) or in the \fBAlliance\fR system
wide tree (for instance /asim/alliance) when a
new version is made avalaible to all.
.PP
attila proceed with the following
steps\ :
.IP 1. 
Checks if the sources of tools are present in the
user's account. If not, check them out from the
\fBAlliance\fR CVS tree. Note that you must
have access to it.
.IP 2. 
In case of \fB--asim\fR
or \fB--full\fR installations,
attila will fork itself on one Linux
computer (currently bip) and on one Solaris
computer (beny). As to connect on thoses
computer it will uses rsh so you must setup
your ~/.rhosts to access them without
passwords. You also can uses ssh (but the
procedure to allow automatic login is more complicated).
.IP 3. 
Run autostuff for the tool in the
~/alliance/src directory.
.IP 4. 
Run configure in the build
directory (see below).
.IP 5. 
Install the tool in the local install directory (see below)
or in the system-wide \fBAlliance\fR directory
rooted under /asim/alliance.
.PP
.sp
.RS
.B "After an --asim install:"
the build directory tree of the tool will be removed to
avoid messing with further local installations.
.PP
.RE
.sp
.SS "DIRECTORY STRUCTURE"
.PP
attila relies on the following tree
structure\ : (all paths below are given relative to the user's
home directory)
.TP 0.2i
\(bu
~/alliance/src where the tools sources
are to be found.
.TP 0.2i
\(bu
~/alliance/Linux/build/$TOOL : the top
directory under which the tool will be compiled for Linux.
This is where the configure script will be run.
.TP 0.2i
\(bu
~/alliance/Linux/install : the top of
the install tree when the tool is compiled locally for Linux.
Under this directory you will found (at least)\ :
\&./bin,
\&./lib and ./include.
.TP 0.2i
\(bu
~/alliance/Solaris/build/$TOOL :
the tool's build directory for Solaris.
.TP 0.2i
\(bu
~/alliance/Solaris/install : top of the
local install tree for Solaris.
.PP
.SS "CVS CHECKOUT"
.PP
If the sources of the requested tool(s) are not found under
~/alliance/src/ attila will
try to check them out. So, as says above, you must have access
rights to the \fBAlliance\fR CVS tree.
.PP
In addition to the tool(s) sources, it will also checks for
the minimal set of files needed for configure to
run. As for now\ :
.TP 0.2i
\(bu
autostuff 
.TP 0.2i
\(bu
alliance.m4 
.TP 0.2i
\(bu
motif.m4 
.TP 0.2i
\(bu
Makefile.am 
.PP
.SS "GUESSING CVSROOT"
.PP
The root of the CVS tree will be set according to the
following rules\ :
.IP 1. 
Uses the user's environment variable
CVSROOT if sets.
.IP 2. 
Uses the attila default value
sets in attila.conf (variable
ATTILA_CVSROOT).
.PP
.SH "GUESSING ALLIANCE_TOP"
.PP
The root of the Alliance installed distribution
tree will be set according to the following rules\ :
.IP 1. 
Uses the user's environment variable
ALLIANCE_TOP if sets.
.IP 2. 
Uses the attila default value
sets in attila itself (variable
ATTILA_ALLIANCE_TOP).
.sp
.RS
.B "ALLIANCE_TOP:"
is set in attila itself because its value
is a prerequisite to load the configuration file
attila.conf which is in the directory
$ALLIANCE_TOP/etc/.
.RE
.sp
.PP
.SH "ARGUMENTS"
.PP
attila accepts the followings arguments\ :
.TP 0.2i
\(bu
\fB-h\fR, \fB--help\fR\ :
print help.
.TP 0.2i
\(bu
\fB-S\fR, \fB--ssh\fR\ :
uses ssh instead of rsh to
connect to the remote computers (in case of
\fB--asim\fR or \fB--full\fR).
.TP 0.2i
\(bu
\fB-U\fR, \fB--user\fR\ :
perform a local installation.
.TP 0.2i
\(bu
\fB-F\fR, \fB--full\fR\ :
install for all avalaibles architectures (currently Linux and
Solaris).
.TP 0.2i
\(bu
\fB-A\fR, \fB--asim\fR\ :
install in the system-wide directory
(/asim/alliance).
.TP 0.2i
\(bu
\fB--prefix=\fIINSTALL_DIR\fB\fR\ :
override the default installation directory.
.TP 0.2i
\(bu
\fB--builddir=\fIBUILD_DIR\fB\fR\ :
override the default building directory.
.TP 0.2i
\(bu
\fB--tool=\fIname1\fB\fR\ :
name of the tool to be installed.
.TP 0.2i
\(bu
\fB-c- \fIconfigure_arg1\fB\fR\ :
all arguments following \fB-c-\fR (until a
\fB-m-\fR is encountered) are passed
\fBas is\fR to the subsequent call to
configure. For example, if you want to first
use your local libraries, give \fB--enable-devel\fR.
If you want to link or install dynamic libraries, give \fB--enable-alc-shared\fR 
for alliance libraries and give \fB--enable-shared\fR for other libraries.
.TP 0.2i
\(bu
\fB-m- \fImake_arg1\fB\fR\ :
all arguments following \fB-m-\fR are passed
\fBas is\fR to the subsequent call to
make. If no \fB-m-\fR
argument is given, then \fBinstall\fR is
assumed. If you want to completely uninstall a tool and clean
it's build directory you can pass
\fBuninstall clean\fR
.PP
.SH "CONFIGURATION FILE ATTILA.CONF"
.PP
The configuration file is located in
$ALLIANCE_TOP/etc. This file is to be read by the
sh \fBshell\fR. It sets up the
following variables\ :
.TP 0.2i
\(bu
\fBLINUX_TARGET\fR : the computer where to
compile for the Linux architecture (default bip).
.TP 0.2i
\(bu
\fBLINUX_CC\fR : the name or full path to
to the C compiler for Linux system
(default gcc3).
.TP 0.2i
\(bu
\fBLINUX_CXX\fR : the name or full path to
to the C++ compiler for Linux system
(default g++3).
.TP 0.2i
\(bu
\fBSOLARIS_TARGET\fR : the computer where to
compile for the Solaris architecture (default beny).
.TP 0.2i
\(bu
\fBSOLARIS_CC\fR : the name or full path to
to the C compiler for Solaris system
(default /usr/local/gcc-3.0.4/bin/g++3).
.TP 0.2i
\(bu
\fBSOLARIS_CXX\fR : the name or full path to
to the C++ compiler for Solaris system
(default /usr/local/gcc-3.0.4/bin/g++3).
.TP 0.2i
\(bu
\fBATTILA_CVSROOT\fR : the root of the
\fBAlliance\fR CVS tree
(default /users/outil/alliance/cvsroot).
.TP 0.2i
\(bu
\fBCVS_STARTUP_FILES\fR : the minimal set of
files needed to run configure.
.PP
.SH "EXAMPLES"
.PP
Compile & install nero tool on the local computer
(must be either a Linux or a Solaris one) :
.sp
.nf
$ \fBattila --tool=nero\fR
    
.sp
.fi
.PP
Compile & install nero tool for all architectures
(currently only Linux and Solaris are supported)\ :
.sp
.nf
$ \fBattila --full --tool=nero\fR
    
.sp
.fi
.PP
Compile & install nero tool in the system-wide
directory (a new version for everyone to use)\ :
.sp
.nf
$ \fBattila --asim --tool=nero\fR
    
.sp
.fi
.PP
Compile & install mbk then genlib
(the order is significant) in a row for a local install on the current
computer\ :
.sp
.nf
$ \fBattila --tool=mbk --tool=genlib\fR
    
.sp
.fi
.PP
Compile nero tool and link it against the locally
installed libraries (if any).
.sp
.nf
$ \fBattila --tool=nero -c- --enable-devel\fR
    
.sp
.fi
.PP
Remove poire tool from the system-wide tree.
(poire is the old name of nero).
.sp
.nf
$ \fBattila --asim --tool=poire -m- uninstall\fR
    
.sp
.fi
